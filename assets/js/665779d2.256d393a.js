"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[25],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>h});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),c=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},d=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=c(r),m=n,h=p["".concat(l,".").concat(m)]||p[m]||u[m]||o;return r?a.createElement(h,i(i({ref:t},d),{},{components:r})):a.createElement(h,i({ref:t},d))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:n,i[1]=s;for(var c=2;c<o;c++)i[c]=r[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},3680:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var a=r(7462),n=(r(7294),r(3905));const o={slug:"/api/ccfx",sidebar_position:14},i="cCFX Contract",s={unversionedId:"API/cCFX",id:"API/cCFX",title:"cCFX Contract",description:"The cCFX contract is the core of PHX v2, which allows users to stake CFX and earn rewards through PoS. It also functions as a standard ERC-20 contract. Its address is: 0xa11ad495c3bf53c19368313a894ba49bc26e7f92",source:"@site/docs/API/cCFX.md",sourceDirName:"API",slug:"/api/ccfx",permalink:"/api/ccfx",draft:!1,editUrl:"https://github.com/phx-verse/docs/tree/main/docs/API/cCFX.md",tags:[],version:"current",sidebarPosition:14,frontMatter:{slug:"/api/ccfx",sidebar_position:14},sidebar:"tutorialSidebar",previous:{title:"AirDrop",permalink:"/airdrop"},next:{title:"Claim Airdrop",permalink:"/tutorial/claimAirdrop"}},l={},c=[{value:"Core Methods",id:"core-methods",level:2},{value:"deposit",id:"deposit",level:3},{value:"redeem",id:"redeem",level:3},{value:"userRedeemedAssets",id:"userredeemedassets",level:3},{value:"userWithdrawableAssets",id:"userwithdrawableassets",level:3},{value:"withdraw",id:"withdraw",level:3},{value:"Complete Contract Interface",id:"complete-contract-interface",level:2},{value:"FAQs",id:"faqs",level:2}],d={toc:c},p="wrapper";function u(e){let{components:t,...o}=e;return(0,n.kt)(p,(0,a.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"ccfx-contract"},"cCFX Contract"),(0,n.kt)("p",null,"The cCFX contract is the core of PHX v2, which allows users to stake CFX and earn rewards through PoS. It also functions as a standard ERC-20 contract. Its address is: ",(0,n.kt)("a",{parentName:"p",href:"https://evm.confluxscan.io/address/0xa11ad495c3bf53c19368313a894ba49bc26e7f92?tab=contract-viewer"},(0,n.kt)("inlineCode",{parentName:"a"},"0xa11ad495c3bf53c19368313a894ba49bc26e7f92"))),(0,n.kt)("p",null,"It extends the following methods on the basis of ERC20 to realize the function of depositing CFX and participating in PoS to obtain income."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("inlineCode",{parentName:"li"},"deposit"),": deposit CFX"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("inlineCode",{parentName:"li"},"redeem"),": initiate a redemption request for CFX."),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("inlineCode",{parentName:"li"},"withdraw"),": withdraw CFX back(after redemption is completed)"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("inlineCode",{parentName:"li"},"cfxRatio"),": exchange rate between CFX and cCFX"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("inlineCode",{parentName:"li"},"userRedeemedAssets"),": CFX amount in user redemption"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("inlineCode",{parentName:"li"},"userWithdrawableAssets"),": CFX amount that can be withdrawn after redemption is completed")),(0,n.kt)("p",null,"The overall operation process is:: ",(0,n.kt)("inlineCode",{parentName:"p"},"deposit -> redeem -> withdraw")),(0,n.kt)("h2",{id:"core-methods"},"Core Methods"),(0,n.kt)("h3",{id:"deposit"},"deposit"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},"function deposit() external;\n")),(0,n.kt)("p",null,"By calling this method and setting the transaction's ",(0,n.kt)("inlineCode",{parentName:"p"},"value")," to deposit CFX, CFX will be converted to cCFX proportionally and distributed to the user. cCFX represents the user's share in the entire PoS pool and is also the certificate for the user to redeem CFX. There are no restrictions on the amount of CFX that can be deposited."),(0,n.kt)("h3",{id:"redeem"},"redeem"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},"function redeem(uint256 shares) external;\n")),(0,n.kt)("p",null,"To redeem CFX, you need to initiate a request using the redeem method. This method requires one parameter called ",(0,n.kt)("inlineCode",{parentName:"p"},"shares"),", which specifies the number of cCFX to be redeemed. The method will destroy the user's cCFX and add their redemption request to the redemption queue."),(0,n.kt)("h3",{id:"userredeemedassets"},"userRedeemedAssets"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},"function userRedeemedAssets(address user) external view returns (uint256);\n")),(0,n.kt)("p",null,"This method is used to query the amount of CFX in redemption for users, that is, the amount of CFX that has been requested for redemption but has not yet been redeemed by the user."),(0,n.kt)("p",null,"After the user initiates a redemption request, if the amount is small, it can be completed within a few minutes and can be withdrawn immediately after completion. In most cases (80%), the redemption time will be completed within 1 day. In extreme cases (when the redemption amount is relatively large), it may take several days."),(0,n.kt)("h3",{id:"userwithdrawableassets"},"userWithdrawableAssets"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},"function userWithdrawableAssets(address user) external view returns (uint256);\n")),(0,n.kt)("p",null,"This method is used to query the amount of CFX that can be withdrawn by the user after completing the redemption."),(0,n.kt)("h3",{id:"withdraw"},"withdraw"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},"function withdraw(uint256 amount) external;\n")),(0,n.kt)("p",null,"Call this method to extract the redeemed CFX from the completion and transfer it to the personal account."),(0,n.kt)("h2",{id:"complete-contract-interface"},"Complete Contract Interface"),(0,n.kt)("p",null,"Complete contract interface can be checked in ",(0,n.kt)("a",{parentName:"p",href:"https://evm.confluxscan.io/address/0xa11ad495c3bf53c19368313a894ba49bc26e7f92?tab=contract-viewer"},"Conflux Scan account page's contract tab")),(0,n.kt)("p",null,(0,n.kt)("img",{src:r(2677).Z,width:"2820",height:"1698"})),(0,n.kt)("h2",{id:"faqs"},"FAQs"))}u.isMDXComponent=!0},2677:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/cCFX-read-methods-590a40a7f44a92d2ef4544ec8039eb9c.png"}}]);